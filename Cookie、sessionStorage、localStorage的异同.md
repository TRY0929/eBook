# Cookie、sessionStorage、localStorage的异同

## Cookie

1. 在浏览器和服务器间来回传递(每次都会携带在HTTP头中，如果使用cookie保存过多数据会带来性能问题)；
2. 存储容量小，大约4k左右；
3. 一般由服务器生成，仅在本地保存，可设置失效时间；若在浏览器端生成，则默认是关闭浏览器时失效；
4. 可以限制cookie只属于某个路径下；
5. 它的主要用途有保存登录信息，比如你登录某个网站市场可以看到“记住密码”，这通常就是通过在 Cookie 中存入一段辨别用户身份的数据来实现的。(保存用户登录状态,跟踪用户行为)

## sessionStorage（HTML５）

1. 仅在客户端（即浏览器）中保存，不参与和服务器的通信（当页面不同 即使是同一页面打开两次，也被视为是同一次回话）；
2. 仅在当前会话下有效，关闭页面或浏览器后被清除;
3. 大小一般为5m;

## localStorage

1. 仅在客户端（即浏览器）中保存，不参与和服务器的通信;

2. 除非被清除，否则永久保存;
3. 大小一般为5m;

### 应用场景

有了对上面这些差别的直观理解，我们就可以讨论三者的应用场景了。

因为考虑到每个 HTTP 请求都会带着 Cookie 的信息，所以 Cookie 当然是能精简就精简啦，比较常用的一个应用场景就是判断用户是否登录。针对登录过的用户，服务器端会在他登录时往 Cookie 中插入一段加密过的唯一辨识单一用户的辨识码，下次只要读取这个值就可以判断当前用户是否登录啦。曾经还使用 Cookie 来保存用户在电商网站的购物车信息，如今有了 localStorage，似乎在这个方面也可以给 Cookie 放个假了~

而另一方面 localStorage 接替了 Cookie 管理购物车的工作，同时也能胜任其他一些工作。比如HTML5游戏通常会产生一些本地数据，localStorage 也是非常适用的。如果遇到一些内容特别多的表单，为了优化用户体验，我们可能要把表单页面拆分成多个子页面，然后按步骤引导用户填写。这时候 sessionStorage 的作用就发挥出来了。

### 安全性的考虑

需要注意的是，不是什么数据都适合放在 Cookie、localStorage 和 sessionStorage 中的。使用它们的时候，需要时刻注意是否有代码存在 XSS 注入的风险。因为只要打开控制台，你就随意修改它们的值，也就是说如果你的网站中有 XSS 的风险，它们就能对你的 localStorage 肆意妄为。所以千万不要用它们存储你系统中的敏感数据。

 [参考](https://www.cnblogs.com/minigrasshopper/p/8064367.html)